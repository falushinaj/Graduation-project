# Ссылка на проект.

https://falushinaj.github.io/Graduation-project/

# Дипломное задание по курсу «JavaScript-программирование для начинающих»

- [Верстка](./sources/layout.zip)

## Задача

-   Разработать сайт бронирования билетов онлайн

## Сущности

_Кинозал_  Помещение, в котором демонстрируются фильмы. Режим работы определяется расписанием на день. Зал — прямоугольный, состоит из N*M различных зрительских мест.
_Зрительское место_  Место в кинозале. Зрительские места могут быть VIP и обычные.
_Фильм_  Информация о фильме заполняется администратором. Фильм связан с сеансом в кинозале.
_Сеанс_  Сеанс — это временной промежуток, в котором в кинозале будет показываться фильм. На сеанс могут быть забронированы билеты.
_Билет_  QR-код c уникальным кодом бронирования, в котором обязательно указаны место, ряд, сеанс. Билет действителен строго на свой сеанс. 

## Роли пользователей системы

-   Гость — неавторизованный посетитель сайта

### Возможности гостя

-   просмотр расписания
-   просмотр информации о фильмах
-   выбор места в кинозале
-   бронирование билета

## Этапы разработки

1. Адаптируем исходную верстку с помощью медиа запросов под планшетные и мобильные устройства (корректное отображение с шириной экрана **320px** и более).
2. Помещаем в отдельный файл JS функцию request. Это базовая функция для запросов. 
3. В файле index.js всегда вызываем две функции renderWeek() и requestFilms(), которые отображают на странице дни недели с датами и карточки фильмов из полученных данных по дате. Если аргумент data не передан, то фильмы выводятся за сегодняшний день. В функции requestFilms вызываем функцию renderFilms, которая рендерит карточки фильмов из полученных данных (итерирует массив фильмов, создает шаблон верстки зала с сеансами и шаблон верстки карточки фильма). Функция changeDay(date) по клику изменяет активную дату и выводит фильмы для выбранной даты. 
4. При переходе на страницу зала по ссылке, мы передаем через query параметр данные по Id зала, Id сеансу и дату. А на странице hall.js получаем эти параметры. По уникальному ключу зала key мы смотрим в Локалсторедж, куплены ли уже выбранные билеты или нет. По клику проверяем, что гость кликнул по верному месту и при необходимости переключаем классы места занятого на незанятое и наоборот. Добавляем клик на кнопку "Забронировать", получаем цену, по родителю получаем индекс элемента клетки и ряда, выбранные места отмечаем как занятые, сохраняем 5 параметров в Локалсторедж и переходим на страницу оплаты.
5. В файле payment.js берем данные с Локалсторедж и вставляем данные в нужные элементы.
6. На странице ticket.js генерируем ключ, по которому мы потом обращаемся. Сохраняем историю покупок. Формируем данные для QR-кода и добавляем QR-код в элемент через библиотеку QRCreator.



